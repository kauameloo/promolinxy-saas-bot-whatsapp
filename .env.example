# =====================================================
# SAAS BOT WHATSAPP - Environment Variables
# =====================================================
# IMPORTANT: Before deploying to production:
# 1. Copy this file to .env: cp .env.example .env
# 2. Replace ALL placeholder values with secure random strings
# 3. Generate secure secrets with: openssl rand -base64 32
# 4. NEVER commit the .env file to version control
# =====================================================

# =====================================================
# FRONTEND (Next.js Dashboard)
# =====================================================
NODE_ENV=production
NEXT_PUBLIC_API_URL=https://backend.promolinxy.online

# Database Connection (usado pelo Frontend)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres-saas:5432/${POSTGRES_DB}?sslmode=disable

# Autenticação JWT
# IMPORTANT: Generate a secure random key - minimum 64 characters
# Generate with: openssl rand -base64 48
JWT_SECRET=change-this-to-your-secure-jwt-secret-minimum-64-characters-long

# Webhook Cakto (opcional - para validação de assinatura)
CAKTO_WEBHOOK_SECRET=change-this-if-using-cakto-webhooks

# WhatsApp Engine URL (comunicação interna entre containers)
WHATSAPP_ENGINE_URL=http://whatsapp-engine:3001

# =====================================================
# BACKEND (WhatsApp Engine)
# =====================================================
WHATSAPP_SESSION_PATH=/app/sessions
WHATSAPP_PORT=3001
WHATSAPP_HOST=0.0.0.0
WHATSAPP_ENGINE_URL=https://backend.promolinxy.online

# Message Queue Worker
QUEUE_BATCH_SIZE=10
QUEUE_INTERVAL_MS=5000
QUEUE_MAX_RETRIES=3
QUEUE_STATS_PORT=3002

# Puppeteer (Chrome for WhatsApp Web)
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium
PUPPETEER_ARGS=--no-sandbox,--disable-setuid-sandbox,--disable-dev-shm-usage

# WhatsApp Session Encryption (optional - for encrypting session metadata)
# Generate a strong key: openssl rand -base64 32
# WHATSAPP_SESSION_ENCRYPTION_KEY=your-32-char-encryption-key-here

# =====================================================
# POSTGRESQL (SAAS Database)
# =====================================================
# IMPORTANT: Change these default passwords before deployment!
POSTGRES_USER=saasbot
POSTGRES_PASSWORD=change-this-to-secure-password
POSTGRES_DB=saasbot

# =====================================================
# TYPEBOT BUILDER
# =====================================================
TYPEBOT_POSTGRES_PASSWORD=change-this-to-secure-password
TYPEBOT_DATABASE_URL=postgresql://typebot:change-this-to-secure-password@postgres-typebot:5432/typebot
TYPEBOT_ENCRYPTION_SECRET=change-this-to-64-character-random-string
TYPEBOT_NEXTAUTH_URL=https://builder.promolinxy.online
TYPEBOT_NEXT_PUBLIC_VIEWER_URL=https://bot.promolinxy.online
TYPEBOT_NEXTAUTH_SECRET=change-this-to-another-64-character-random-string
# GitHub OAuth (optional - leave empty if not using)
TYPEBOT_GITHUB_CLIENT_ID=
TYPEBOT_GITHUB_CLIENT_SECRET=

# =====================================================
# N8N (Workflow Automation)
# =====================================================
N8N_HOST=n8n.promolinxy.online
N8N_PROTOCOL=https
N8N_PORT=5678
GENERIC_TIMEZONE=America/Sao_Paulo
N8N_SECURE_COOKIE=false
N8N_RUNNERS_ENABLED=true
N8N_GIT_NODE_DISABLE_BARE_REPOS=true
N8N_BLOCK_ENV_ACCESS_IN_NODE=true

# =====================================================
# GENERAL
# =====================================================
# Default Tenant ID (para modo single-tenant, em produção usar multi-tenancy)
DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000001
