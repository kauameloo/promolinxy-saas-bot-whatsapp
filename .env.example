# =====================================================
# SAAS BOT WHATSAPP - Environment Variables
# =====================================================

# Database (Neon PostgreSQL)
DATABASE_URL=postgresql://neondb_owner:npg_taV1eFoQMpR9@ep-tiny-math-a4bnavlp-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require

# Autenticação JWT
JWT_SECRET=minha-chave-secreta-super-segura-com-mais-de-64-caracteres-aqui-ok

# Webhook Cakto (opcional - para validação de assinatura)
CAKTO_WEBHOOK_SECRET=your-cakto-webhook-secret

# PostgreSQL (para Docker)
POSTGRES_USER=saasbot
POSTGRES_PASSWORD=saasbot123
POSTGRES_DB=saasbot

# Node Environment
NODE_ENV=development

# WhatsApp Engine (Backend Server)
WHATSAPP_SESSION_PATH=/app/sessions
WHATSAPP_PORT=3001
WHATSAPP_SERVER_URL=http://localhost:3001

# WhatsApp Engine URL - Used by frontend (Vercel) to connect to backend (VPS) via proxy
# =====================================================
# IMPORTANT FOR VERCEL DEPLOYMENT:
# =====================================================
# 1. Go to your Vercel project dashboard
# 2. Navigate to Settings > Environment Variables
# 3. Add WHATSAPP_ENGINE_URL with your VPS IP address:
#    Example: http://72.60.154.100:3001
# 4. Make sure your VPS firewall allows incoming connections on port 3001
# 5. Redeploy your Vercel project after adding the variable
#
# For local development: http://localhost:3001
# For VPS deployment: http://YOUR_VPS_IP:3001 (e.g., http://72.60.154.100:3001)
WHATSAPP_ENGINE_URL=http://localhost:3001

# WhatsApp Session Encryption (optional - for encrypting session metadata)
# Generate a strong key: openssl rand -base64 32
# WHATSAPP_SESSION_ENCRYPTION_KEY=your-32-char-encryption-key-here

# Message Queue Worker
QUEUE_BATCH_SIZE=10
QUEUE_INTERVAL_MS=5000
QUEUE_MAX_RETRIES=3
QUEUE_STATS_PORT=3002

# Puppeteer (Chrome for WhatsApp Web)
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium

# Default Tenant ID (para modo single-tenant, em produção usar multi-tenancy)
DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000001

# Backend API URL - Used by frontend to connect to backend API
# =====================================================
# IMPORTANT FOR PRODUCTION DEPLOYMENT:
# =====================================================
# This variable MUST be set correctly for the frontend to work properly!
# It tells the frontend where to send API requests.
#
# CRITICAL: This is a NEXT_PUBLIC_* variable, which means:
# 1. It gets embedded into the frontend bundle at BUILD TIME
# 2. You CANNOT change it at runtime - you must REBUILD if you change it
# 3. It must be available as a build argument in Docker builds
#
# Example values:
# - Local development: http://localhost:3000
# - Production (same domain): https://www.promolinxy.online
# - Production (separate API domain): https://api.promolinxy.online
# - Docker Compose: http://localhost:3000 (exposed port)
#
# For Docker deployment, also add this to your docker-compose build args!
NEXT_PUBLIC_API_URL=http://localhost:3000
